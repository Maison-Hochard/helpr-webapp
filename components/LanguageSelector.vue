<script setup lang="ts">
const { locale } = useI18n();

const availableLocales = {
  en: {
    name: "English",
    iso: "en",
    flag: "ðŸ‡ºðŸ‡¸",
  },
  fr: {
    name: "FranÃ§ais",
    iso: "fr",
    flag: "ðŸ‡«ðŸ‡·",
  },
};

defineProps({
  isText: {
    type: Boolean,
    default: false,
  },
});

watch(locale, (newLang) => {
  locale.value = newLang;
  useLocalStorage("locale", newLang);
});
</script>

<template>
  <select class="bg-transparent text-primary border-none focus:outline-none" v-model="locale">
    <option v-for="(locale, key) in availableLocales" :key="key" :value="locale.iso">
      {{ locale.flag }} {{ isText ? locale.name : "" }}
    </option>
  </select>
</template>

<style scoped lang="scss"></style>
